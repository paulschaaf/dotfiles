
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>4.8.&nbsp;Inserting content after an element [Dive Into Greasemonkey]</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="../css/dig.css" type="text/css">
      <meta http-equiv="Link" content='&lt;../css/modern.css&gt;; type="text/css"; rel=stylesheet, &lt;../css/empty.css&gt;; type="text/css";
      rel=stylesheet'>
      <link rev="made" href="mailto:mark@diveintomark.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
      <meta name="keywords" content="Firefox, Greasemonkey, Javascript, user script, userscript">
      <link rel="start" href="../toc/index.html" title="Dive Into Greasemonkey">
      <link rel="up" href="index.html" title="Chapter&nbsp;4.&nbsp;Common Patterns">
      <link rel="prev" href="insert-before.html" title="4.7.&nbsp;Inserting content before an element">
      <link rel="next" href="remove-element.html" title="4.9.&nbsp;Removing an element">
   </head>
   <body id="diveintogreasemonkey-org" class="pattern-insertafter">
      <div class="z" id="intro">
         <div class="sectionInner">
            <div class="sectionInner2">
               <div class="s">
                  <h1><a href="/" accesskey="1">Dive Into Greasemonkey</a></h1>
                  <p>Teaching an old web new tricks</p>
               </div>
               <div class="s">
                  <ul>
                     <li><a href="../">Home</a> &middot; 
                     </li>
                     <li><a href="../toc/">Table of contents</a> &middot; 
                     </li>
                     <li><a href="../download/">Download</a> &middot; 
                     </li>
                     <li><a href="http://greasemonkey.mozdev.org/">Get Greasemonkey</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="mainInner">
            <p id="breadcrumb">You are here: <a href="../">Home</a> &#8594; <a href="../toc/index.html">Table of contents</a> &#8594; <a href="index.html">Common Patterns</a> &#8594; <span class="thispage">Inserting content after an element</span></p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="pattern.insertafter" class="skip" href="#pattern.insertafter" title="link to this section"><img src="../images/permalink.gif" alt="[link]" title="link to this section" width="8" height="9"></a> 4.8.&nbsp;Inserting content after an element
                        </h2>
                     </div>
                     <div>
                        <div class="abstract">
                           <h3 class="title"></h3>
                           <p>Once you've found an element, you may wish to insert additional content <span class="emphasis"><em>after</em></span> it.  You can use the <code class="function">insertBefore</code> function for this too, combined with the <code class="property">nextSibling</code> property.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="example"><a name="example.pattern.insert.after" class="skip" href="#example.pattern.insert.after" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;Insert an <code class="sgmltag-element">&lt;hr&gt;</code> after the navigation bar
                  </h3>
                  <p>This presumes that there is an element whose ID is <code class="literal">"navbar"</code>.
                  </p><pre class="programlisting ">var navbar, newElement;
navbar = document.getElementById('navbar');
if (navbar) {
    newElement = document.createElement('hr');
    navbar.parentNode.insertBefore(newElement, navbar.nextSibling);
}</pre></div>
               <div class="tip">
                  <table class="admon" summary="">
                     <tr>
                        <td class="admonicon"><a href="../appendix/tips.html" title="List of tips"><img alt="[Tip]" src="../images/tip.png" width="24" height="24" title=""></a></td>
                        <td class="admontext">
                           <p>Inserting new content before <code class="property">someExistingElement.nextSibling</code> will work even if <code class="varname">someExistingElement</code> is the last child of its parent (i.e. it has no next sibling).  In this case, <code class="property">someExistingElement.nextSibling</code> will return <code class="constant">null</code>, and the <code class="function">insertBefore</code> function will simply append the new content after all other siblings.  (If this doesn't make any sense to you, don't worry
                              about it.  The point is that this example will always work, even when it seems like it shouldn't.)
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <div class="usedby">
                  <h3>Real examples</h3>
                  <ul>
                     <li><a href="http://diveintogreasemonkey.org/download/blogdex-display-title.user.js">Blogdex Display Title</a></li>
                     <li><a href="http://diveintomark.org/projects/butler/butler.user.js">Butler</a></li>
                  </ul>
               </div>
            </div>
            <div style="float: left">&#8592;&nbsp;<a class="NavigationArrow" href="insert-before.html">Inserting content before an element</a></div>
            <div style="text-align: right"><a class="NavigationArrow" href="remove-element.html">Removing an element</a>&nbsp;&#8594;
            </div>
            <hr style="clear:both">
            <div class="footer">
               <p class="copyright">Copyright &copy; 2005 Mark Pilgrim &middot; <a title="send me feedback about this book" href="mailto:mark@diveintomark.org">mark@diveintomark.org</a> &middot; <a href="../license/gpl.html" title="GNU General Public License">Terms of use</a></p>
            </div>
         </div>
      </div>
   </body>
</html>