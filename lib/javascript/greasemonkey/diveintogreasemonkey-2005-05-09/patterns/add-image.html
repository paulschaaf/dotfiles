
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>4.12.&nbsp;Adding images without hitting a central server [Dive Into Greasemonkey]</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="../css/dig.css" type="text/css">
      <meta http-equiv="Link" content='&lt;../css/modern.css&gt;; type="text/css"; rel=stylesheet, &lt;../css/empty.css&gt;; type="text/css";
      rel=stylesheet'>
      <link rev="made" href="mailto:mark@diveintomark.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
      <meta name="keywords" content="Firefox, Greasemonkey, Javascript, user script, userscript">
      <link rel="start" href="../toc/index.html" title="Dive Into Greasemonkey">
      <link rel="up" href="index.html" title="Chapter&nbsp;4.&nbsp;Common Patterns">
      <link rel="prev" href="innerhtml.html" title="4.11.&nbsp;Inserting complex HTML quickly">
      <link rel="next" href="add-css.html" title="4.13.&nbsp;Adding CSS styles">
   </head>
   <body id="diveintogreasemonkey-org" class="pattern-addimage">
      <div class="z" id="intro">
         <div class="sectionInner">
            <div class="sectionInner2">
               <div class="s">
                  <h1><a href="/" accesskey="1">Dive Into Greasemonkey</a></h1>
                  <p>Teaching an old web new tricks</p>
               </div>
               <div class="s">
                  <ul>
                     <li><a href="../">Home</a> &middot; 
                     </li>
                     <li><a href="../toc/">Table of contents</a> &middot; 
                     </li>
                     <li><a href="../download/">Download</a> &middot; 
                     </li>
                     <li><a href="http://greasemonkey.mozdev.org/">Get Greasemonkey</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="mainInner">
            <p id="breadcrumb">You are here: <a href="../">Home</a> &#8594; <a href="../toc/index.html">Table of contents</a> &#8594; <a href="index.html">Common Patterns</a> &#8594; <span class="thispage">Adding images without hitting a central server</span></p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="pattern.addimage" class="skip" href="#pattern.addimage" title="link to this section"><img src="../images/permalink.gif" alt="[link]" title="link to this section" width="8" height="9"></a> 4.12.&nbsp;Adding images without hitting a central server
                        </h2>
                     </div>
                     <div>
                        <div class="abstract">
                           <h3 class="title"></h3>
                           <p>Firefox supports <code class="systemitem">data:</code> <acronym title="Uniform Resource Locator">URL</acronym>s, which are a way to embed chunks of data into a <acronym title="Uniform Resource Locator">URL</acronym> instead of retrieving the data from the server in a separate call.  You've probably never heard of <code class="systemitem">data:</code> <acronym title="Uniform Resource Locator">URL</acronym>s because Internet Explorer doesn't support them, so no one uses them.  But they can come in handy in user scripts.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="example"><a name="example.pattern.datauri" class="skip" href="#example.pattern.datauri" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;Add a graphical logo at the top of the page</h3><pre class="programlisting ">var logo = document.createElement('img');
logo.src = 'data:image/gif;base64,R0lGODlhDQAOAJEAANno6wBmZgAAAAAAACH5BAAAAAAA'+
    'LAAAAAANAA4AQAIjjI8Iyw3GhACSQecutsFV3nzgNi7SVEbo06lZa66LRib2UQAAOw%3D%3D';
document.body.insertBefore(logo, document.body.firstChild);</pre><p>In this example, the <code class="sgmltag-attribute">src</code> of the <code class="sgmltag-element">&lt;img&gt;</code> element is a <code class="systemitem">data:</code> <acronym title="Uniform Resource Locator">URL</acronym> which contains the entire image data in encoded form.  Once the new element is inserted into the page, it will display just
                     like any other image, but without requiring that the image be stored on a central server.  In essence, you can embed images
                     in your user scripts and distribute them as part of the same file as the rest of your code.
                  </p>
               </div>
               <div class="tip">
                  <table class="admon" summary="">
                     <tr>
                        <td class="admonicon"><a href="../appendix/tips.html" title="List of tips"><img alt="[Tip]" src="../images/tip.png" width="24" height="24" title=""></a></td>
                        <td class="admontext">
                           <p>Use the <a href="http://software.hixie.ch/utilities/cgi/data/data"><code class="systemitem">data:</code> <acronym title="Uniform Resource Identifier">URI</acronym> kitchen</a> to construct your own <code class="systemitem">data:</code> <acronym title="Uniform Resource Locator">URL</acronym>s.
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <div class="usedby">
                  <h3>Real examples</h3>
                  <ul>
                     <li><a href="http://diveintomark.org/projects/butler/butler.user.js">Butler</a></li>
                     <li><a href="http://diveintogreasemonkey.org/download/zoomtextarea.user.js">Zoom Textarea</a></li>
                  </ul>
               </div>
               <div class="seealso">
                  <h3>See also</h3>
                  <ul>
                     <li><a href="http://software.hixie.ch/utilities/cgi/data/data"><code class="systemitem">data:</code> <acronym title="Uniform Resource Identifier">URI</acronym> kitchen</a></li>
                  </ul>
               </div>
            </div>
            <div style="float: left">&#8592;&nbsp;<a class="NavigationArrow" href="innerhtml.html">Inserting complex HTML quickly</a></div>
            <div style="text-align: right"><a class="NavigationArrow" href="add-css.html">Adding CSS styles</a>&nbsp;&#8594;
            </div>
            <hr style="clear:both">
            <div class="footer">
               <p class="copyright">Copyright &copy; 2005 Mark Pilgrim &middot; <a title="send me feedback about this book" href="mailto:mark@diveintomark.org">mark@diveintomark.org</a> &middot; <a href="../license/gpl.html" title="GNU General Public License">Terms of use</a></p>
            </div>
         </div>
      </div>
   </body>
</html>