
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>4.13.&nbsp;Adding CSS styles [Dive Into Greasemonkey]</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="../css/dig.css" type="text/css">
      <meta http-equiv="Link" content='&lt;../css/modern.css&gt;; type="text/css"; rel=stylesheet, &lt;../css/empty.css&gt;; type="text/css";
      rel=stylesheet'>
      <link rev="made" href="mailto:mark@diveintomark.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
      <meta name="keywords" content="Firefox, Greasemonkey, Javascript, user script, userscript">
      <link rel="start" href="../toc/index.html" title="Dive Into Greasemonkey">
      <link rel="up" href="index.html" title="Chapter&nbsp;4.&nbsp;Common Patterns">
      <link rel="prev" href="add-image.html" title="4.12.&nbsp;Adding images without hitting a central server">
      <link rel="next" href="getcomputedstyle.html" title="4.14.&nbsp;Getting an element's style">
   </head>
   <body id="diveintogreasemonkey-org" class="pattern-addcss">
      <div class="z" id="intro">
         <div class="sectionInner">
            <div class="sectionInner2">
               <div class="s">
                  <h1><a href="/" accesskey="1">Dive Into Greasemonkey</a></h1>
                  <p>Teaching an old web new tricks</p>
               </div>
               <div class="s">
                  <ul>
                     <li><a href="../">Home</a> &middot; 
                     </li>
                     <li><a href="../toc/">Table of contents</a> &middot; 
                     </li>
                     <li><a href="../download/">Download</a> &middot; 
                     </li>
                     <li><a href="http://greasemonkey.mozdev.org/">Get Greasemonkey</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="mainInner">
            <p id="breadcrumb">You are here: <a href="../">Home</a> &#8594; <a href="../toc/index.html">Table of contents</a> &#8594; <a href="index.html">Common Patterns</a> &#8594; <span class="thispage">Adding CSS styles</span></p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="pattern.addcss" class="skip" href="#pattern.addcss" title="link to this section"><img src="../images/permalink.gif" alt="[link]" title="link to this section" width="8" height="9"></a> 4.13.&nbsp;Adding CSS styles
                        </h2>
                     </div>
                     <div>
                        <div class="abstract">
                           <h3 class="title"></h3>
                           <p>I have often found the need to add my own CSS styles to a page.  You can add styles that override existing styles, or styles
                              specific to new elements that your user script inserts.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="example"><a name="example.pattern.css" class="skip" href="#example.pattern.css" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;Make paragraph text larger</h3><pre class="programlisting ">function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) { return; }
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}

addGlobalStyle('p { font-size: large ! important; }');</pre><p>This function takes one argument, a string containing the style rules you want to add to the page.  It works by quite literally
                     injecting a <code class="sgmltag-element">&lt;style&gt;</code> element into the page's <code class="sgmltag-element">&lt;head&gt;</code> section that contains your style rules.  Firefox automatically picks up the change, parses the style rules, and applies them
                     to the page.  You may include as many separate style rules as you like in a single function call; just concatenate them together
                     as a string and pass them all at once.
                  </p>
               </div>
               <div class="tip">
                  <table class="admon" summary="">
                     <tr>
                        <td class="admonicon"><a href="../appendix/tips.html" title="List of tips"><img alt="[Tip]" src="../images/tip.png" width="24" height="24" title=""></a></td>
                        <td class="admontext">
                           <p>You can use the <code class="function">addGlobalStyle</code> function to style elements that you insert into a page, or elements that were part of the original page. However, if you
                              are styling existing elements, you should use the <code class="literal">! important</code> keyword for each rule you define to ensure your styles override the rules defined by the original page.
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
               <div class="usedby">
                  <h3>Real examples</h3>
                  <ul>
                     <li><a href="http://diveintogreasemonkey.org/download/accessbar.user.js">Access Bar</a></li>
                     <li><a href="http://diveintogreasemonkey.org/download/aintitreadable.user.js">Aint It Readable</a></li>
                     <li><a href="http://diveintogreasemonkey.org/download/betterdir.user.js">BetterDir</a></li>
                     <li><a href="http://diveintomark.org/projects/butler/butler.user.js">Butler</a></li>
                     <li><a href="http://diveintogreasemonkey.org/download/cdreadable.user.js">CDReadable</a></li>
                     <li><a href="http://diveintogreasemonkey.org/download/lip.user.js">LIP</a></li>
                  </ul>
               </div>
               <div class="seealso">
                  <h3>See also</h3>
                  <ul>
                     <li><a href="../casestudy/aintitreadable.html" title="5.3.&nbsp;Case study: Ain't It Readable">Case study: Ain't It Readable</a></li>
                  </ul>
               </div>
            </div>
            <div style="float: left">&#8592;&nbsp;<a class="NavigationArrow" href="add-image.html">Adding images without hitting a central server</a></div>
            <div style="text-align: right"><a class="NavigationArrow" href="getcomputedstyle.html">Getting an element's style</a>&nbsp;&#8594;
            </div>
            <hr style="clear:both">
            <div class="footer">
               <p class="copyright">Copyright &copy; 2005 Mark Pilgrim &middot; <a title="send me feedback about this book" href="mailto:mark@diveintomark.org">mark@diveintomark.org</a> &middot; <a href="../license/gpl.html" title="GNU General Public License">Terms of use</a></p>
            </div>
         </div>
      </div>
   </body>
</html>