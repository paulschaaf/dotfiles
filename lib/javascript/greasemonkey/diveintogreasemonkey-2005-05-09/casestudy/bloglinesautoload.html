
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>5.2.&nbsp;Case study: Bloglines Autoload [Dive Into Greasemonkey]</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="../css/dig.css" type="text/css">
      <meta http-equiv="Link" content='&lt;../css/modern.css&gt;; type="text/css"; rel=stylesheet, &lt;../css/empty.css&gt;; type="text/css";
      rel=stylesheet'>
      <link rev="made" href="mailto:mark@diveintomark.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
      <meta name="keywords" content="Firefox, Greasemonkey, Javascript, user script, userscript">
      <link rel="start" href="../toc/index.html" title="Dive Into Greasemonkey">
      <link rel="up" href="index.html" title="Chapter&nbsp;5.&nbsp;Case Studies">
      <link rel="prev" href="gmailsecure.html" title="5.1.&nbsp;Case study: GMail Secure">
      <link rel="next" href="aintitreadable.html" title="5.3.&nbsp;Case study: Ain't It Readable">
   </head>
   <body id="diveintogreasemonkey-org" class="casestudy-autoload">
      <div class="z" id="intro">
         <div class="sectionInner">
            <div class="sectionInner2">
               <div class="s">
                  <h1><a href="/" accesskey="1">Dive Into Greasemonkey</a></h1>
                  <p>Teaching an old web new tricks</p>
               </div>
               <div class="s">
                  <ul>
                     <li><a href="../">Home</a> &middot; 
                     </li>
                     <li><a href="../toc/">Table of contents</a> &middot; 
                     </li>
                     <li><a href="../download/">Download</a> &middot; 
                     </li>
                     <li><a href="http://greasemonkey.mozdev.org/">Get Greasemonkey</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="mainInner">
            <p id="breadcrumb">You are here: <a href="../">Home</a> &#8594; <a href="../toc/index.html">Table of contents</a> &#8594; <a href="index.html">Case Studies</a> &#8594; <span class="thispage">Case study: Bloglines Autoload</span></p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="casestudy.autoload" class="skip" href="#casestudy.autoload" title="link to this section"><img src="../images/permalink.gif" alt="[link]" title="link to this section" width="8" height="9"></a> 5.2.&nbsp;Case study: Bloglines Autoload
                        </h2>
                     </div>
                     <div>
                        <h3 class="subtitle">Automating page actions</h3>
                     </div>
                     <div>
                        <div class="abstract">
                           <h3 class="title"></h3>
                           <p><a href="http://www.bloglines.com/">Bloglines</a> is a web-based aggregator for syndicated feeds.  It has a 2-pane interface; the left-hand pane displays your subscriptions,
                              and the right-hand pane displays the content from those subscriptions.  It's a very nice interface; the only thing I dislike
                              about it is that I always use it the same way: every time I visit Bloglines, I want to see everything I haven't seen before,
                              that is, all the unread items.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <p>In Bloglines, displaying all unread items is just one click away.  Clicking on the root level of your subscriptions in the
                  lefthand pane, and it displays the unread items in the righthand pane.  But since I always want to do this, I wrote a user
                  script to automate that one click.
               </p>
               <div class="example"><a name="example.casestudy.bloglines" class="skip" href="#example.casestudy.bloglines" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;Make Bloglines display all unread items automatically</h3><pre class="programlisting ">// ==UserScript==
// @name          Bloglines Autoloader
// @namespace     http://diveintogreasemonkey.org/download/
// @description   Auto-display all new items in Bloglines
// @include       http://bloglines.com/myblogs*
// @include       http://www.bloglines.com/myblogs*
// ==/UserScript==

if (doLoadAll) {
    doLoadAll();
}</pre></div>
               <p>This user script is quite simple.  Bloglines defines a function, <code class="function">doLoadAll()</code>, which is what would get executed if I manually clicked on the root level of my subscriptions list.  Calling the function
                  displays all unread items.
               </p>
               <p>However, since Bloglines uses frames, the user script will end up getting executed in each frame (since they all match the
                  pattern I've defined in the <code class="literal">@include</code>), so I first need to check whether the <code class="function">doLoadAll()</code> function exists in this frame:
               </p>
               <div class="informalexample"><pre class="programlisting ">if (doLoadAll) {</pre></div>
               <p>Assumes the function exists, I simply call it.  Since the user script runs in the same context as the page, I can call any
                  scripts that the original page has defined.
               </p>
               <div class="informalexample"><pre class="programlisting ">    doLoadAll();
    }</pre></div>
               <div class="download">
                  <h3>Download</h3>
                  <ul>
                     <li><a href="http://diveintogreasemonkey.org/download/bloglines-autoload.user.js"><code class="filename">bloglines-autoload.user.js</code></a></li>
                  </ul>
               </div>
            </div>
            <div style="float: left">&#8592;&nbsp;<a class="NavigationArrow" href="gmailsecure.html">Case study: GMail Secure</a></div>
            <div style="text-align: right"><a class="NavigationArrow" href="aintitreadable.html">Case study: Ain't It Readable</a>&nbsp;&#8594;
            </div>
            <hr style="clear:both">
            <div class="footer">
               <p class="copyright">Copyright &copy; 2005 Mark Pilgrim &middot; <a title="send me feedback about this book" href="mailto:mark@diveintomark.org">mark@diveintomark.org</a> &middot; <a href="../license/gpl.html" title="GNU General Public License">Terms of use</a></p>
            </div>
         </div>
      </div>
   </body>
</html>