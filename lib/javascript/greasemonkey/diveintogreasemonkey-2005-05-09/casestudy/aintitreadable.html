
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>5.3.&nbsp;Case study: Ain't It Readable [Dive Into Greasemonkey]</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="../css/dig.css" type="text/css">
      <meta http-equiv="Link" content='&lt;../css/modern.css&gt;; type="text/css"; rel=stylesheet, &lt;../css/empty.css&gt;; type="text/css";
      rel=stylesheet'>
      <link rev="made" href="mailto:mark@diveintomark.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
      <meta name="keywords" content="Firefox, Greasemonkey, Javascript, user script, userscript">
      <link rel="start" href="../toc/index.html" title="Dive Into Greasemonkey">
      <link rel="up" href="index.html" title="Chapter&nbsp;5.&nbsp;Case Studies">
      <link rel="prev" href="bloglinesautoload.html" title="5.2.&nbsp;Case study: Bloglines Autoload">
      <link rel="next" href="offsiteblank.html" title="5.4.&nbsp;Case study: Offsite Blank">
   </head>
   <body id="diveintogreasemonkey-org" class="casestudy-aintitreadable">
      <div class="z" id="intro">
         <div class="sectionInner">
            <div class="sectionInner2">
               <div class="s">
                  <h1><a href="/" accesskey="1">Dive Into Greasemonkey</a></h1>
                  <p>Teaching an old web new tricks</p>
               </div>
               <div class="s">
                  <ul>
                     <li><a href="../">Home</a> &middot; 
                     </li>
                     <li><a href="../toc/">Table of contents</a> &middot; 
                     </li>
                     <li><a href="../download/">Download</a> &middot; 
                     </li>
                     <li><a href="http://greasemonkey.mozdev.org/">Get Greasemonkey</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="mainInner">
            <p id="breadcrumb">You are here: <a href="../">Home</a> &#8594; <a href="../toc/index.html">Table of contents</a> &#8594; <a href="index.html">Case Studies</a> &#8594; <span class="thispage">Case study: Ain't It Readable</span></p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="casestudy.aintitreadable" class="skip" href="#casestudy.aintitreadable" title="link to this section"><img src="../images/permalink.gif" alt="[link]" title="link to this section" width="8" height="9"></a> 5.3.&nbsp;Case study: Ain't It Readable
                        </h2>
                     </div>
                     <div>
                        <h3 class="subtitle">Overriding page styles</h3>
                     </div>
                     <div>
                        <div class="abstract">
                           <h3 class="title"></h3>
                           <p><a href="http://aint-it-cool-news.com/">Ain't It Cool News</a> is a site devoted to entertainment news.  The site is wonderful; I highly recommend it.  Unfortunately, I can't stand how
                              the site looks.  Every headline is too large, too bold, and changes color as you move your cursor over it.  So I wrote a user
                              script that changes the styles I don't like.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="example"><a name="example.casestudy.aintitreadable" class="skip" href="#example.casestudy.aintitreadable" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;<a href="http://diveintogreasemonkey.org/download/aintitreadable.user.js" title="Download Ain't It Readable"><code class="filename">aintitreadable.user.js</code></a></h3><pre class="programlisting ">// ==UserScript==
// @name          Ain't It Readable
// @namespace     http://diveintogreasemonkey.org/download/
// @description   change style on aint-it-cool-news.com
// @include       http://aint-it-cool-news.com/*
// @include       http://*.aint-it-cool-news.com/*
// ==/UserScript==

function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) { return; }
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}

addGlobalStyle(
'h1, h2, h3, h4 {' +
'  font-size: 12px ! important;' +
'  line-height: 14px ! important;' +
'  font-weight: normal ! important;' +
'}' +
'h1:hover, h2:hover, h3:hover, h4:hover {' +
'  background-color: inherit ! important;' +
'  color: inherit ! important;' +
'}');</pre></div>
               <p>This user script is very simple.  First I define a function which adds arbitrary CSS styles to the page.  See <a href="../patterns/add-css.html" title="4.13.&nbsp;Adding CSS styles">Adding CSS styles</a> for more information about this function.
               </p>
               <div class="informalexample"><pre class="programlisting ">function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) { return; }
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}</pre></div>
               <p>Then I simply call the function with the CSS styles I want to add: make the headlines smaller and not bold, and remove the
                  color change when you move the cursor over them.  In this case, the page defines style rules for each of these, so I use the
                  <code class="constant">! important</code> keyword to make sure that my style rules are applied instead of the page's original rules.
               </p>
               <p>Note that the function takes only one argument, a string that contains all the style rules to add.  I've formatted the string
                  for readability here, but it's still just a string.
               </p>
               <div class="informalexample"><pre class="programlisting ">addGlobalStyle(
'h1, h2, h3, h4 {' +
'  font-size: 12px ! important;' +
'  line-height: 14px ! important;' +
'  font-weight: normal ! important;' +
'}' +
'h1:hover, h2:hover, h3:hover, h4:hover {' +
'  background-color: inherit ! important;' +
'  color: inherit ! important;' +
'}');</pre></div>
               <div class="download">
                  <h3>Download</h3>
                  <ul>
                     <li><a href="http://diveintogreasemonkey.org/download/aintitreadable.user.js"><code class="filename">aintitreadable.user.js</code></a></li>
                  </ul>
               </div>
               <div class="seealso">
                  <h3>See also</h3>
                  <ul>
                     <li><a href="../patterns/add-css.html" title="4.13.&nbsp;Adding CSS styles">Adding CSS styles</a></li>
                  </ul>
               </div>
            </div>
            <div style="float: left">&#8592;&nbsp;<a class="NavigationArrow" href="bloglinesautoload.html">Case study: Bloglines Autoload</a></div>
            <div style="text-align: right"><a class="NavigationArrow" href="offsiteblank.html">Case study: Offsite Blank</a>&nbsp;&#8594;
            </div>
            <hr style="clear:both">
            <div class="footer">
               <p class="copyright">Copyright &copy; 2005 Mark Pilgrim &middot; <a title="send me feedback about this book" href="mailto:mark@diveintomark.org">mark@diveintomark.org</a> &middot; <a href="../license/gpl.html" title="GNU General Public License">Terms of use</a></p>
            </div>
         </div>
      </div>
   </body>
</html>