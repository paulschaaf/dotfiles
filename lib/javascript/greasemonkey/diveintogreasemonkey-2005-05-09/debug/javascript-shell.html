
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>3.4.&nbsp;Evaluating expressions with Javascript Shell [Dive Into Greasemonkey]</title>
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="../css/dig.css" type="text/css">
      <meta http-equiv="Link" content='&lt;../css/modern.css&gt;; type="text/css"; rel=stylesheet, &lt;../css/empty.css&gt;; type="text/css";
      rel=stylesheet'>
      <link rev="made" href="mailto:mark@diveintomark.org">
      <meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
      <meta name="keywords" content="Firefox, Greasemonkey, Javascript, user script, userscript">
      <link rel="start" href="../toc/index.html" title="Dive Into Greasemonkey">
      <link rel="up" href="index.html" title="Chapter&nbsp;3.&nbsp;Debugging User Scripts">
      <link rel="prev" href="dom-inspector.html" title="3.3.&nbsp;Inspecting elements with DOM Inspector">
      <link rel="next" href="other.html" title="3.5.&nbsp;Other debugging tools">
   </head>
   <body id="diveintogreasemonkey-org" class="debug-shell">
      <div class="z" id="intro">
         <div class="sectionInner">
            <div class="sectionInner2">
               <div class="s">
                  <h1><a href="/" accesskey="1">Dive Into Greasemonkey</a></h1>
                  <p>Teaching an old web new tricks</p>
               </div>
               <div class="s">
                  <ul>
                     <li><a href="../">Home</a> &middot; 
                     </li>
                     <li><a href="../toc/">Table of contents</a> &middot; 
                     </li>
                     <li><a href="../download/">Download</a> &middot; 
                     </li>
                     <li><a href="http://greasemonkey.mozdev.org/">Get Greasemonkey</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="mainInner">
            <p id="breadcrumb">You are here: <a href="../">Home</a> &#8594; <a href="../toc/index.html">Table of contents</a> &#8594; <a href="index.html">Debugging User Scripts</a> &#8594; <span class="thispage">Evaluating expressions with Javascript Shell</span></p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="debug.shell" class="skip" href="#debug.shell" title="link to this section"><img src="../images/permalink.gif" alt="[link]" title="link to this section" width="8" height="9"></a> 3.4.&nbsp;Evaluating expressions with Javascript Shell
                        </h2>
                     </div>
                     <div>
                        <div class="abstract">
                           <h3 class="title"></h3>
                           <p>Javascript Shell is a bookmarklet that allows you to evaluate arbitrary Javascript expressions in the context of the current
                              page.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="procedure"><a name="procedure.debug.javascriptshell" class="skip" href="#procedure.debug.javascriptshell" title="link to this procedure"><img src="../images/permalink.gif" alt="[link]" title="link to this procedure" width="8" height="9"></a> 
                  <h3 class="title">Procedure:&nbsp;Install Javascript Shell</h3>
                  <ol type="1">
                     <li>
                        <p>Visit <a href="http://www.squarefree.com/bookmarklets/webdevel.html">Jesse's Web Development Bookmarklets</a>.
                        </p>
                     </li>
                     <li>
                        <p>Drag the <span><strong class="guibutton">Shell</strong></span> bookmarklet to your links toolbar.
                        </p>
                     </li>
                     <li>
                        <p>Visit a page (for example, <a href="http://diveintogreasemonkey.org/">Dive Into Greasemonkey</a> home page), and click the <span><strong class="guibutton">Shell</strong></span> bookmarklet in your links toolbar.  The Javascript Shell window will open in the background.
                        </p>
                     </li>
                  </ol>
               </div>
               <p>Javascript Shell offers you the same power as <a href="dom-inspector.html" title="3.3.&nbsp;Inspecting elements with DOM Inspector">DOM Inspector</a>, but in a free-form environment.  Think of it as a command line for the DOM.  Let's play.
               </p>
               <div class="example"><a name="example.debug.javascriptshell" class="skip" href="#example.debug.javascriptshell" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;Introduction to Javascript Shell</h3><pre class="screen"><strong class="userinput"><code>document.title</code></strong>
<span class="computeroutput">Dive Into Greasemonkey</span>
<strong class="userinput"><code>document.title = 'Hello World'</code></strong>
<span class="computeroutput">Hello World</span>
<strong class="userinput"><code>var paragraphs = document.getElementsByTagName('p')</code></strong>
<strong class="userinput"><code>paragraphs</code></strong>
<span class="computeroutput">[object HTMLCollection]</span>
<strong class="userinput"><code>paragraphs.length</code></strong>
<span class="computeroutput">5</span>
<strong class="userinput"><code>paragraphs[0]</code></strong>
<span class="computeroutput">[object HTMLParagraphElement]</span>
<strong class="userinput"><code>paragraphs[0].innerHTML</code></strong>
<span class="computeroutput">Teaching an old web new tricks</span>
<strong class="userinput"><code>paragraphs[0].innerHTML = 'Live editing, baby!'</code></strong>
<span class="computeroutput">Live editing, baby!</span></pre><p>Your changes should be reflected in the original page as soon as you hit <span><strong class="keycap">ENTER</strong></span>.
                  </p>
               </div>
               <p>The only other thing I want to mention about Javascript Shell is the <code class="function">props</code> function.
               </p>
               <div class="example"><a name="example.debug.props" class="skip" href="#example.debug.props" title="link to this example"><img src="../images/permalink.gif" alt="[link]" title="link to this example" width="8" height="9"></a> 
                  <h3 class="title">Example:&nbsp;Get properties of an element</h3><pre class="screen"><strong class="userinput"><code>var link = document.getElementsByTagName('a')[0]</code></strong>
<strong class="userinput"><code>props(link)</code></strong>
<span class="props">Methods of prototype: blur, focus
Fields of prototype: id, title, lang, dir, className, accessKey,
charset, coords, href, hreflang, name, rel, rev, shape, tabIndex,
target, type, protocol, host, hostname, pathname, search, port,
hash, text, offsetTop, offsetLeft, offsetWidth, offsetHeight,
offsetParent, innerHTML, scrollTop, scrollLeft, scrollHeight,
scrollWidth, clientHeight, clientWidth, style
Methods of prototype of prototype of prototype: insertBefore,
replaceChild, removeChild, appendChild, hasChildNodes, cloneNode,
normalize, isSupported, hasAttributes, getAttribute, setAttribute,
removeAttribute, getAttributeNode, setAttributeNode,
removeAttributeNode, getElementsByTagName, getAttributeNS,
setAttributeNS, removeAttributeNS, getAttributeNodeNS,
setAttributeNodeNS, getElementsByTagNameNS, hasAttribute,
hasAttributeNS, addEventListener, removeEventListener, dispatchEvent,
compareDocumentPosition, isSameNode, lookupPrefix, isDefaultNamespace,
lookupNamespaceURI, isEqualNode, getFeature, setUserData, getUserData
Fields of prototype of prototype of prototype: tagName, nodeName,
nodeValue, nodeType, parentNode, childNodes, firstChild, lastChild,
previousSibling, nextSibling, attributes, ownerDocument, namespaceURI,
prefix, localName, ELEMENT_NODE, ATTRIBUTE_NODE, TEXT_NODE,
CDATA_SECTION_NODE, ENTITY_REFERENCE_NODE, ENTITY_NODE,
PROCESSING_INSTRUCTION_NODE, COMMENT_NODE, DOCUMENT_NODE,
DOCUMENT_TYPE_NODE, DOCUMENT_FRAGMENT_NODE, NOTATION_NODE,
baseURI, textContent, DOCUMENT_POSITION_DISCONNECTED,
DOCUMENT_POSITION_PRECEDING, DOCUMENT_POSITION_FOLLOWING,
DOCUMENT_POSITION_CONTAINS, DOCUMENT_POSITION_CONTAINED_BY,
DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC
Methods of prototype of prototype of prototype of prototype of prototype: toString</span></pre><p>To coin a phrase, &#8220;<span class="quote">Whoa!</span>&#8221;  What's all that about?  It's a list of all the properties and methods of that <code class="sgmltag-element">&lt;a&gt;</code> element that are available to you in Javascript, grouped by levels in the DOM object hierarchy.  Methods and properties that
                     are specific to link elements (like the <code class="methodname">blur</code> and <code class="methodname">focus</code> methods, and the <code class="property">href</code> and <code class="property">hreflang</code> properties) are listed first, followed by methods and properties shared by all types of nodes (like the <code class="methodname">insertBefore</code> method), and so on.
                  </p>
                  <p>Again, this is the same information that is available in DOM Inspector... but with more typing and experimenting, and less
                     pointing and clicking.
                  </p>
               </div>
               <div class="warning">
                  <table class="admon" summary="">
                     <tr>
                        <td class="admonicon"><a href="../appendix/tips.html" title="List of tips"><img alt="[Warning]" src="../images/warning.png" width="24" height="24" title=""></a></td>
                        <td class="admontext">
                           <p>Like <a href="dom-inspector.html" title="3.3.&nbsp;Inspecting elements with DOM Inspector">DOM Inspector</a>, Javascript Shell does not &#8220;<span class="quote">follow</span>&#8221; you as you browse.  If you open Javascript Shell and then navigate somewhere else in the original window, Javascript Shell
                              will get very confused.  It's best to go where you want to go, open Javascript Shell, fiddle to your heart's content, then
                              close Javascript Shell before doing anything else.
                           </p>
                        </td>
                     </tr>
                  </table>
               </div>
            </div>
            <div style="float: left">&#8592;&nbsp;<a class="NavigationArrow" href="dom-inspector.html">Inspecting elements with DOM Inspector</a></div>
            <div style="text-align: right"><a class="NavigationArrow" href="other.html">Other debugging tools</a>&nbsp;&#8594;
            </div>
            <hr style="clear:both">
            <div class="footer">
               <p class="copyright">Copyright &copy; 2005 Mark Pilgrim &middot; <a title="send me feedback about this book" href="mailto:mark@diveintomark.org">mark@diveintomark.org</a> &middot; <a href="../license/gpl.html" title="GNU General Public License">Terms of use</a></p>
            </div>
         </div>
      </div>
   </body>
</html>