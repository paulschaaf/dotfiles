#!/bin/bash

if [ "$1" == "-e" ]; then
    echoCmd=true
    noexec=true
    shift
fi

if [ "$1" == "-l" ]; then
    echoList=true
    noexec=true
    shift
fi

if [ "$1" == "--synonyms" ]; then
    # do nothing, say nothing
    shift
fi

for source in $*; do
    for synonym in `$source --synonyms`
    do
        doit="ln -vs $source $synonym"
        if [ -n "$echoList" ]; then echo $synonym; fi
        if [ -n "$echoCmd"  ]; then echo $doit; fi
        if [ -z "$noexec"   ]; then eval $doit; fi
    done
done
